{% extends "base.html" %}
{% block content %}
<h2>School Users</h2>
<p><a href="{% url 'create_school_user' %}">Add New User</a></p>

<h3>Teachers</h3>
<table>
  <tr><th>Username</th><th>Email</th><th>Actions</th></tr>
  {% for teacher in teachers %}
  <tr>
    <td>{{ teacher.username }}</td>
    <td>{{ teacher.email }}</td>
    <td>
      <a href="{% url 'edit_school_user' teacher.id %}">Edit</a> |
      <a href="{% url 'delete_school_user' teacher.id %}" onclick="return confirm('Delete this user?');">Delete</a>
    </td>
  </tr>
  {% empty %}
  <tr><td colspan="3">No teachers found.</td></tr>
  {% endfor %}
</table>

<h3>Students</h3>
<table>
  <tr><th>Username</th><th>Email</th><th>Actions</th></tr>
  {% for student in students %}
  <tr>
    <td>{{ student.username }}</td>
    <td>{{ student.email }}</td>
    <td>
      <a href="{% url 'edit_school_user' student.id %}">Edit</a> |
      <a href="{% url 'delete_school_user' student.id %}" onclick="return confirm('Delete this user?');">Delete</a>
    </td>
  </tr>
  {% empty %}
  <tr><td colspan="3">No students found.</td></tr>
  {% endfor %}
</table>
{% endblock %}
